<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Star Wars Hyperspace Color Overlay</title>
  <style>
    html,body{height:100%;margin:0;background:#000;overflow:hidden;font-family:Inter,system-ui,Segoe UI,Roboto}
    .overlay{position:fixed;inset:0;pointer-events:none;display:block;}
    canvas{width:100%;height:100%;display:block;background:black}
    .controls{position:fixed;left:12px;top:12px;z-index:9999;pointer-events:auto;color:#fff;font-size:13px;backdrop-filter:blur(6px);background: rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);padding:8px;border-radius:8px;max-width:240px}
    .controls label{display:block;margin:4px 0;}
  </style>
</head>
<body>
  <div class="controls" id="controls">
    <label><input type="checkbox" id="showControls" checked> Controls anzeigen</label>
    <label>Geschwindigkeit: <input type="range" id="speedControl" min="1" max="50" step="1" value="20"></label>
    <label>Sternendichte: <input type="range" id="densityControl" min="50" max="500" step="10" value="200"></label>
  </div>

  <div class="overlay" aria-hidden="true">
    <canvas id="starCanvas"></canvas>
  </div>

  <script>
    const canvas = document.getElementById('starCanvas');
    const ctx = canvas.getContext('2d');
    let w, h;
    function resize(){ w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
    window.addEventListener('resize', resize);
    resize();

    let speed = parseInt(document.getElementById('speedControl').value);
    let density = parseInt(document.getElementById('densityControl').value);

    document.getElementById('speedControl').addEventListener('input', e => speed = parseInt(e.target.value));
    document.getElementById('densityControl').addEventListener('input', e => { density = parseInt(e.target.value); createStars(); });
    document.getElementById('showControls').addEventListener('change', e => {
      document.getElementById('controls').style.display = e.target.checked ? 'block' : 'none';
    });

    class Star {
      constructor(){
        this.reset();
      }
      reset(){
        this.x = (Math.random() - 0.5) * w;
        this.y = (Math.random() - 0.5) * h;
        this.z = Math.random() * w;
        this.color = `hsl(${Math.random()*360}, 100%, 70%)`;
      }
      update(){
        this.z -= speed;
        if(this.z <= 0){
          this.reset();
          this.z = w;
        }
      }
      draw(){
        const sx = (this.x / this.z) * w + w/2;
        const sy = (this.y / this.z) * h + h/2;
        const r = (1 - this.z / w) * 3;
        ctx.beginPath();
        ctx.arc(sx, sy, r, 0, Math.PI*2);
        ctx.fillStyle = this.color;
        ctx.fill();
      }
    }

    let stars = [];
    function createStars(){
      stars = [];
      for(let i=0; i<density; i++){
        stars.push(new Star());
      }
    }
    createStars();

    function animate(){
      ctx.fillStyle = 'rgba(0,0,0,0.3)';
      ctx.fillRect(0,0,w,h);
      for(const star of stars){
        star.update();
        star.draw();
      }
      requestAnimationFrame(animate);
    }
    animate();
  </script>
</body>
</html>
